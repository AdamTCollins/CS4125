@startuml
start

:User provides input data file path;
:Load data from file;
if (File exists?) then (Yes)
    :Data loaded successfully;
else (No)
    :Show error message;
    stop
endif

:Preprocess data;
:Clean text columns;
:Translate non-English text to English;
:Remove duplicates and noise;

:Generate embeddings (TF-IDF);
:Split data into train/test sets;


switch (Model Type?)
    case (Random Forest)
        :Initialize Random Forest strategy;
    case (Neural Network)
        :Initialize Neural Network strategy;
    case (SVM)
        :Initialize SVM strategy;
    case (KNN)
        :Initialize KNN strategy;
    case (XGBoost)
        :Initialize XGBoost strategy;
endswitch

:Train the selected model;
:Test the model on test data;
:Evaluate model performance;

:User selects export format (CSV/JSON);
if (Export Path Provided?) then (Yes)
    :Export results to file;
else (No)
    :Show error message;
    stop
endif

:User inputs new email for classification;
if (Email is in English?) then (Yes)
    :Use embeddings to classify email;
else (No)
    :Translate email to English;
    :Use embeddings to classify email;
endif

:Show classification result;
stop
@enduml
